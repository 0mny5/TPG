# T2i Prompt Generator(TPG)

## サービス概要
T2i Prompt Generatorは、ユーザーが方向性・雰囲気・主題・色・スタイル・物語を入力するだけで、Stable Diffusion 向けの高品質な英語プロンプトを自動生成するツールです。

- GPT-mini を用いた物語文生成・文体変換

- ネガティブプロンプトはプリセット＋方向性別で自動付与

- 生成結果は1回限り表示、データベースを使わない軽量構成

- 1日5回無料生成＋広告視聴による追加解放

## ターゲットユーザー

- 画像生成AIのプロンプト作成が苦手な一般ユーザー

- SNSや創作活動で高品質な画像を作成したいライトクリエイター

- 手軽に英語プロンプトを生成したいユーザー

## ユーザーが抱える課題

- 英語プロンプトを自力で作るのが難しい

- ネガティブプロンプトや文体の調整に手間がかかる

- 高品質なプロンプト作成に時間がかかる

## 解決方法

- ユーザー入力＋自動補完で自然な物語文を生成

- 翻訳・文体変換・ネガティブプロンプト付与を自動化

- 出力形式は Narrative形式 + カンマ区切りタグ形式

- コピー用ボタンで簡単に利用可能

## 実装予定機能
### プロンプト生成機能

#### 入力項目

- 方向性（例：アニメ風／実写風）

- 雰囲気（例：綺麗め、可愛い、クール、スチームパンク）

- 主題カテゴリ（例：キャラクター／風景／動物／乗り物／建物／小物）

- 色・光のイメージ（例：明るい、暗い、夕方、夜、カラフル、モノクロ）

- 構図・視点（例：クローズアップ、全体像、俯瞰、斜め、正面）

- スタイル・アーティスト傾向（例：Pixivイラスト風、水彩画風、油絵風、デジタルアート、リアル寄り）

- 物語（自由入力／プリセット切替可能）

#### 処理内容

- 物語生成（GPT-mini）

- ユーザー入力＋空欄補完＋ランダム生成により物語文を作成

- 英訳（DeepL API）

- キーワード抽出（SpaCy 等）

- ネガティブプロンプト付与（固定＋方向性別）

#### 出力形式

プロンプト:
[自動生成されたプロンプト]
BREAK
ネガティブプロンプト:
[ネガティブプロンプト]

### 物語入力補助・生成機能

- 5W1H形式で入力可能（空白可）

- 空白はランダム生成で補完、ユーザー入力優先

- 入力済み内容や補完内容も編集可能

- GPTに渡す際、空白欄は自然な文章に補完する指示を付与

### ネガティブプロンプト付与機能

- 固定ネガティブプロンプトで品質担保・不要要素除去

- 方向性別追加: アニメ風 → realistic、実写風 → anime-style

- ユーザーが任意で追記・修正可能

- GPTは使用せず静的付与

### 生成回数制限・広告解放機能

- 無料枠: 1日5回

- 6回目以降: Rewarded Ad（動画広告）で残り5回解放

- カウント方式: Googleログインごとにフロント＋一時メモリで日次管理（DB不要）

- UI上に残り回数・広告視聴による解放案内を明示

### 広告表示機能

- 生成中: バナー／インライン広告で体感短縮

- 6回目以降: Rewarded Ad（動画広告）で追加生成回数解放

### ログイン機能

- Googleログイン（Firebase Authentication）

- ユーザー識別・生成回数制限の管理

## 非機能要件

- フロント: React、バックエンド: Python（Flask または FastAPI）

- DBは使用せずクライアント側で回数カウント管理

- 文体変換: GPT-mini（gpt-4-turbo-mini）

- 翻訳: DeepL API

- 生成速度: 数秒以内

- APIキーはバックエンドで管理、OAuthはGoogleのみ

- MAUカウント: Firebase

- 使用予定API・外部サービス

- キーワード抽出: SpaCy + Python

- 翻訳: DeepL API

- 文体変換: GPT-mini

- ログイン: Google OAuth (Firebase)

- 広告: Google AdSense + Rewarded Ad

- アナリティクス: Firebase

## 想定フロー

- ユーザーが方向性／雰囲気／主題／色／スタイルを指定 → 物語を5W1H形式で入力

- [生成] ボタン押下 → ローディング中に広告表示

- バックエンドで文体変換・翻訳・ネガティブ付与

- プロンプト＋ネガティブプロンプトを BREAK 区切りで出力 → 1回限り表示

- 6回目で広告視聴を促し、残り5回分を解放

- 日次リセット

## 今後の拡張余地

- 有料プランやサブスクリプション導入

- 広告枠最適化によるUX向上

- プロンプトテンプレートの複数化・ランダム化

- 設定同期機能（Googleログインを活かした共有機能）
